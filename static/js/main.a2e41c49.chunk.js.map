{"version":3,"sources":["actions/actions.js","actions/index.js","reducers/loginReducer.jsx","reducers/chatReducer.jsx","reducers/index.js","store/index.js","components/Login/login.jsx","components/Login/index.js","components/Message/message.jsx","components/Message/index.js","components/Chat/chat.jsx","components/Chat/index.js","App.js","serviceWorker.js","index.js","assets/smile.png","assets/send.png","assets/arrow.png"],"names":["logIn","nickname","flag","arguments","length","undefined","type","CONSTANTS","LOG_IN","payload","isAuthenticated","IS_AUTH","isOnline","IS_ONLINE","initialState","localStorage","getItem","isAuth","loginReducer","state","action","chatReducer","combineReducers","login","chat","store","createStore","rootReducer","console","log","Login","HandleInput","e","dispatch","_this","props","target","value","Chat","setItem","AuthorisedBefore","this","react_default","a","createElement","react_router","to","pathname","Form","className","Group","Label","Control","placeholder","onChange","Button","variant","onClick","React","Component","connect","Message","_ref","info","convertDate","date","Date","time","dd","getDate","mm","getMonth","yy","getFullYear","hh","getHours","mimi","getMinutes","my","Card","id","style","backgroundColor","Body","Title","from","Text","message","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","scrollToBottom","messagesEnd","scrollIntoView","messages","text","active","inputValue","granted","socket","ReconnectingWebSocket","connectionTimeout","binaryType","addEventSocket","NotificationRequested","document","cookie","sendMessage","setState","event","prevState","concat","JSON","parse","data","reverse","refs","midiSounds","playChordNow","sendNotification","_this2","window","Notification","requestPermission","permission","alert","_this3","addEventListener","changeActive","updateStatus","socketOpen","socketMessage","socketClose","removeEventListener","map","mess","body","navigator","onLine","close","reconnect","clear","emoji","native","_this4","send","stringify","replace","now","_this5","popover","Popover","dist_es","onSelect","addEmoji","Container","Row","Col","key","uniqueId","components_Message","Spinner","animation","Image","src","arrow","ref","el","onSubmit","OverlayTrigger","trigger","placement","overlay","smile","saveMessage","midisoundsreact_default","appElementName","instruments","_this6","closeSocket","returnMessages","App","exact","path","component","Boolean","location","hostname","match","ReactDOM","render","es","react_router_dom","src_App","getElementById","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"mLACaA,EAAQ,SAACC,GAA2B,IAAjBC,EAAiBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAC7C,MAAO,CACHG,KAAMC,EAAUC,OAChBC,QAAS,CACLR,SAAUA,EACVS,gBAAiBR,KAKhBQ,EAAkB,SAACR,GAC5B,MAAO,CACHI,KAAMC,EAAUI,QAChBF,QAASP,IAIJU,EAAW,SAACV,GACrB,MAAO,CACHI,KAAMC,EAAUM,UAChBJ,QAASP,ICnBJK,EAAY,CACrBC,OAAQ,SACRG,QAAS,UACTE,UAAW,aCHTC,EAAe,CACjBb,SAAUc,aAAaX,OAAO,EAAEW,aAAaC,QAAQ,YAAc,GACnEC,OAAQF,aAAaX,OAAO,GAyBjBc,EArBM,WAAkC,IAAjCC,EAAiChB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBW,EAAcM,EAAWjB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAEnD,OAAOe,EAAOd,MACV,KAAKC,EAAUC,OAKX,MAJS,CACDP,SAAUmB,EAAOX,QAAQR,SACzBgB,OAAQG,EAAOX,QAAQC,iBAGnC,KAAKH,EAAUI,QAMX,MALK,CACDV,SAAUkB,EAAMlB,SAChBgB,OAAQG,EAAOX,SAIvB,QACI,OAAOU,ICvBbL,EAAe,CACjBF,UAAU,GAgBCS,EAbK,WAAkC,IAAjCF,EAAiChB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBW,EAAcM,EAAWjB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAElD,OAAOe,EAAOd,MACV,KAAKC,EAAUM,UAIX,MAHS,CACDD,SAAUQ,EAAOX,SAG7B,QACI,OAAOU,ICXJG,cAAgB,CAC3BC,MAAOL,EACPM,KAAMH,ICHJI,EAAQC,YAAYC,GAC1BC,QAAQC,IAAIJ,GACGA,0ECCTK,6MACJC,YAAc,SAACC,IAEbC,EADqBC,EAAKC,MAAlBF,UACCjC,EAAMgC,EAAEI,OAAOC,WAE1BC,KAAO,YAELL,EADqBC,EAAKC,MAAlBF,UACCvB,GAAgB,IACzBK,aAAawB,QAAQ,WAAYL,EAAKC,MAAMZ,MAAMtB,aAEpDuC,iBAAmB,YAEjBP,EADqBC,EAAKC,MAAlBF,UACCjC,EAAMe,aAAaC,QAAQ,aAAa,6EAGjD,OAAGD,aAAaC,QAAQ,aACtByB,KAAKD,mBACEE,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,GAAI,CAAEC,SAAU,aAC1BN,KAAKN,MAAMZ,MAAMN,OACbyB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,GAAI,CAAEC,SAAU,YAGnCL,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAMC,UAAU,QACZP,EAAAC,EAAAC,cAACI,EAAA,EAAKE,MAAN,KACIR,EAAAC,EAAAC,cAACI,EAAA,EAAKG,MAAN,4BACAT,EAAAC,EAAAC,cAACI,EAAA,EAAKI,QAAN,CAAc9C,KAAK,OAAO+C,YAAY,iBAAiBJ,UAAU,QAAQK,SAAab,KAAKV,cAC3FW,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAQC,QAAQ,UAAUP,UAAU,YAAYQ,QAAShB,KAAKH,MAA9D,uBA1BIoB,IAAMC,WAyCXC,cAPS,SAAAzC,GAAK,MACzB,CACEI,MAAOJ,EAAMI,QAKJqC,CAAyB9B,GC3CzBA,mFCkDA+B,EAnDC,SAAAC,GAAgB,IAAdC,EAAcD,EAAdC,KACRC,EAAc,WAChB,IAAMC,EAAO,IAAIC,KAAKH,EAAKI,MACvBC,EAAKH,EAAKI,UACVD,EAAK,KAAIA,EAAK,IAAMA,GAExB,IAAIE,EAAKL,EAAKM,WAAa,EACvBD,EAAK,KAAIA,EAAK,IAAMA,GAExB,IAAIE,EAAKP,EAAKQ,cAAgB,IAC1BD,EAAK,KAAIA,EAAK,IAAMA,GAExB,IAAIE,EAAKT,EAAKU,WAAa,IACvBD,EAAK,KAAIA,EAAK,IAAMA,GAExB,IAAIE,EAAOX,EAAKY,aAAe,IAIrC,OAHUD,EAAO,KAAIA,EAAO,IAAMA,GAG3BR,EAAK,IAAME,EAAK,IAAME,EAAK,IAAME,EAAK,IAAME,GAEjD,OArB4Bd,EAARgB,GAuBZpC,EAAAC,EAAAC,cAACmC,EAAA,EAAD,CAAMC,GAAG,UAAU/B,UAAU,KAAKgC,MAAO,CAAEC,gBAAiB,YAC5DxC,EAAAC,EAAAC,cAACmC,EAAA,EAAKI,KAAN,KACIzC,EAAAC,EAAAC,cAAA,OAAKK,UAAU,SACXP,EAAAC,EAAAC,cAACmC,EAAA,EAAKK,MAAN,KACKrB,EAAKsB,MAEV3C,EAAAC,EAAAC,cAACmC,EAAA,EAAKO,KAAN,KAAYtB,EAAYD,EAAKI,QAEjCzB,EAAAC,EAAAC,cAACmC,EAAA,EAAKO,KAAN,CAAWrC,UAAU,eAAec,EAAKwB,WAMjD7C,EAAAC,EAAAC,cAACmC,EAAA,EAAD,CAAMC,GAAG,UAAUC,MAAO,CAAEC,gBAAiB,YACzCxC,EAAAC,EAAAC,cAACmC,EAAA,EAAKI,KAAN,KACIzC,EAAAC,EAAAC,cAAA,OAAKK,UAAU,SACXP,EAAAC,EAAAC,cAACmC,EAAA,EAAKK,MAAN,KACKrB,EAAKsB,MAEV3C,EAAAC,EAAAC,cAACmC,EAAA,EAAKO,KAAN,KAAYtB,EAAYD,EAAKI,QAEjCzB,EAAAC,EAAAC,cAACmC,EAAA,EAAKO,KAAN,CAAWrC,UAAU,eAAec,EAAKwB,YC7C1C1B,wGCYTvB,cACJ,SAAAA,EAAYH,GAAM,IAAAD,EAAAsD,OAAAC,EAAA,EAAAD,CAAA/C,KAAAH,IAChBJ,EAAAsD,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAlD,GAAAsD,KAAAnD,KAAMN,KAwJR0D,eAAiB,WACb3D,EAAK4D,YAAYC,kBAxJnB7D,EAAKf,MAAM,CACT6E,SAAS,GACTC,KAAM,IAER/D,EAAKgE,QAAO,EACZhE,EAAKiE,WAAW,GAChBjE,EAAK4D,YAAY,GACjB5D,EAAKhC,MAAK,EACVgC,EAAKkE,SAAQ,EAVG,OAchBlE,EAAKmE,OAAS,IAAIC,IAAsB,gCAAgC,GAHxD,CACdC,kBAAmB,MAGrBrE,EAAKmE,OAAOG,WAAa,cACzBtE,EAAKuE,iBACLvE,EAAKwE,wBAjBWxE,8EAqBjBO,KAAKyD,QAAQzD,KAAKyD,6CAKjBjE,EADqBQ,KAAKN,MAAlBF,UACCrB,GAAS,IACf+F,SAASC,OAAOxG,OAAO,GACxBqC,KAAKoE,cAEPpE,KAAKqE,SAAS,CACZd,SAAU,KAEdW,SAASC,OAAS,2FAGLG,GACbtE,KAAKqE,SAAS,SAACE,GACb,MAAO,CACLhB,SAAUgB,EAAUhB,SAASiB,OAAOC,KAAKC,MAAMJ,EAAMK,MAAMC,cAG5D5E,KAAKyD,OACNzD,KAAK6E,KAAKC,WAAWC,aAAa,GAAI,CAAC,IAAK,IACpC/E,KAAK2D,UAAY3D,KAAKvC,KAC9BuC,KAAKgF,iBAAiBP,KAAKC,MAAMJ,EAAMK,OAC/B3E,KAAKvC,MACbuC,KAAKoD,iBAELpD,KAAKvC,MAAK,kDAGU,IAAAwH,EAAAjF,KAChB,iBAAkBkF,OAItBC,aAAaC,kBAAkB,SAAAC,GACV,YAAfA,IACFJ,EAAKtB,SAAQ,KALjB2B,MAAM,+FAWO,IAAAC,EAAAvF,KAEfkF,OAAOM,iBAAiB,QAAQ,kBAAID,EAAKE,eACzCP,OAAOM,iBAAiB,OAAO,kBAAID,EAAKE,eAExCP,OAAOM,iBAAiB,SAAS,kBAAID,EAAKG,iBAC1CR,OAAOM,iBAAiB,UAAU,kBAAID,EAAKG,iBAE3C1F,KAAK4D,OAAO4B,iBAAiB,OAAQ,kBAAID,EAAKI,eAE9C3F,KAAK4D,OAAO4B,iBAAiB,UAAW,SAAClB,GAAD,OAASiB,EAAKK,cAActB,KAEpEtE,KAAK4D,OAAO4B,iBAAiB,QAAS,kBAAID,EAAKM,uDAK/CrG,EADqBQ,KAAKN,MAAlBF,UACCrB,GAAS,IAClB+G,OAAOY,oBAAoB,QAAQ9F,KAAKyF,cACxCP,OAAOY,oBAAoB,OAAO9F,KAAKyF,cACvCP,OAAOY,oBAAoB,SAAS9F,KAAK0F,cACzCR,OAAOY,oBAAoB,UAAU9F,KAAK0F,cAE1C1F,KAAK4D,OAAOkC,oBAAoB,OAAO9F,KAAK2F,YAC5C3F,KAAK4D,OAAOkC,oBAAoB,UAAU9F,KAAK4F,eAC/C5F,KAAK4D,OAAOkC,oBAAoB,QAAQ9F,KAAK6F,sDAG5BlB,GACfA,EAAKoB,IAAI,SAACC,GACR,IAAIC,EAAOD,EAAKlD,QAChB,OAAO,IAAIqC,aAAaa,EAAKpD,KAAM,CAACqD,kDAI1B,IACJzG,EAAaQ,KAAKN,MAAlBF,SACL0G,UAAUC,OACX3G,EAASrB,GAAS,KAElB6B,KAAK4D,OAAOwC,QACZpG,KAAK4D,OAAOyC,oDAMd7G,EADqBQ,KAAKN,MAAlBF,UACCvB,GAAgB,IACzB+B,KAAK4D,OAAOwC,QACZ9H,aAAagI,4CAGHhC,GACVtE,KAAKqE,SAAS,CACXb,KAAMc,EAAM3E,OAAOC,yCAIfL,GACP,IAAIgH,EAAQhH,EAAEiH,OACdxG,KAAKqE,SAAS,SAACE,EAAW7E,GACxB,MAAO,CACL8D,KAAMe,EAAUf,KAAO+C,2CAMhB,IAAAE,EAAAzG,KACXA,KAAK4D,OAAO8C,KAAKjC,KAAKkC,UAAU,CAC9B/D,KAAM5C,KAAKN,MAAMZ,MAAMtB,SACvBsF,QAA2B,KAAlB9C,KAAKtB,MAAM8E,KAAUxD,KAAKtB,MAAM8E,KAAKU,SAASC,OAAOyC,QAAQ,kDAAmD,SAEvH5G,KAAKN,MAAMX,KAAKZ,WAClB+F,SAASC,OAAT,WAAAK,OAA6BxE,KAAKtB,MAAM8E,MACxCxD,KAAKqE,SAAS,SAACE,GACb,MAAO,CACLhB,SAAUgB,EAAUhB,SAASiB,OAAO,CAAC,CACnC5B,KAAM6D,EAAK/G,MAAMZ,MAAMtB,SACvBsF,QAAS2D,EAAK/H,MAAM8E,KACpB9B,KAAMD,KAAKoF,aAKnB7G,KAAKqE,SAAS,CAACb,KAAK,8CAON,IAAAsD,EAAA9G,KACR+G,EACJ9G,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CAASzE,GAAG,iBACVtC,EAAAC,EAAAC,cAAC8G,EAAA,EAAD,CAAQC,SAAU,SAAC3H,GAAD,OAAKuH,EAAKK,SAAS5H,OAGzC,OACEU,EAAAC,EAAAC,cAACiH,EAAA,EAAD,CAAW5G,UAAU,QACrBP,EAAAC,EAAAC,cAACkH,EAAA,EAAD,CAAK7G,UAAU,iBACbP,EAAAC,EAAAC,cAACmH,EAAA,EAAD,CAAK9G,UAAU,QACbP,EAAAC,EAAAC,cAAA,UAEIH,KAAKtB,MAAM6E,SAAS5F,OAAO,EAAIqC,KAAKtB,MAAM6E,SAASwC,IAAK,SAAAjD,GAAO,OAAIA,EAAQF,OAAOkE,EAAKpH,MAAMZ,MAAMtB,SAAWyC,EAAAC,EAAAC,cAAA,MAAIoH,IAAKC,sBAAYvH,EAAAC,EAAAC,cAACsH,EAAD,CAASnG,KAAMwB,KAAkB7C,EAAAC,EAAAC,cAAA,MAAIoH,IAAKC,qBAAYhH,UAAU,UAASP,EAAAC,EAAAC,cAACsH,EAAD,CAASnG,KAAMwB,EAAST,IAAI,OAAgBpC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACuH,EAAA,EAAD,CAASC,UAAU,SAAS5G,QAAQ,gBAGpSd,EAAAC,EAAAC,cAAA,OAAKa,QAAShB,KAAKoD,eAAgB5C,UAAU,SAAQP,EAAAC,EAAAC,cAACyH,EAAA,EAAD,CAAOC,IAAKC,OACjE7H,EAAAC,EAAAC,cAAA,OAAK4H,IAAK,SAAAC,GAAE,OAAElB,EAAKzD,YAAY2E,OAGnC/H,EAAAC,EAAAC,cAACkH,EAAA,EAAD,CAAK9E,GAAG,eACRtC,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAM0H,SAAU,kBAAMnB,EAAK1C,gBAC3BnE,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAgBC,QAAQ,QAAQC,UAAU,MAAMC,QAAStB,GACvD9G,EAAAC,EAAAC,cAACyH,EAAA,EAAD,CAAOC,IAAKS,IAAO9H,UAAU,YAE7BP,EAAAC,EAAAC,cAAA,YAAWP,MAAOI,KAAKtB,MAAM8E,KAAM3C,SAAU,SAACyD,GAAD,OAASwC,EAAKyB,YAAYjE,MACvErE,EAAAC,EAAAC,cAACyH,EAAA,EAAD,CAAOC,IAAKnB,IAAMlG,UAAU,OAAO3C,KAAK,SAASmD,QAAS,kBAAM8F,EAAK1C,kBAErEnE,EAAAC,EAAAC,cAACqI,EAAAtI,EAAD,CAAY6H,IAAI,aAAaU,eAAe,OAAOC,YAAa,CAAC,IAAKlI,UAAU,6CAO9E,IAAAmI,EAAA3I,KACF,OAAGA,KAAKN,MAAMX,KAAKZ,SACd6B,KAAKN,MAAMZ,MAAMN,OAEhByB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAQE,QAAW,kBAAM2H,EAAKC,eAAepI,UAAU,aAAaO,QAAQ,UAAUyB,MAAO,CAAEC,gBAAiB,YAAhH,WACAxC,EAAAC,EAAAC,cAAA,MAAIK,UAAU,SAAd,SAA6BR,KAAKN,MAAMZ,MAAMtB,WAE/CwC,KAAK6I,kBAIH5I,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,GAAI,CAAEC,SAAU,YAIjCL,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAQE,QAAW,kBAAM2H,EAAKC,eAAepI,UAAU,aAAaO,QAAQ,UAAUyB,MAAO,CAAEC,gBAAiB,YAAhH,WACAxC,EAAAC,EAAAC,cAAA,+BAEDH,KAAK6I,yBAtNH5H,IAAMC,WAqOVC,eARS,SAAAzC,GAAK,MAC3B,CACEI,MAAOJ,EAAMI,MACbC,KAAML,EAAMK,OAKDoC,CAAyBtB,GChPzBA,sBCiBAiJ,eAfb,SAAAA,EAAYpJ,GAAQ,OAAAqD,OAAAC,EAAA,EAAAD,CAAA/C,KAAA8I,GAAA/F,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA+F,GAAA3F,KAAAnD,KACZN,0EAIN,OACEO,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAU2I,OAAK,EAACnG,KAAK,IAAIvC,GAAG,YAC5BJ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO4I,KAAK,UAAUC,UAAW5J,IACjCY,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO4I,KAAK,SAASC,UAAWpJ,aAVtBoB,IAAMC,kBCOJgI,QACW,cAA7BhE,OAAOiE,SAASC,UAEe,UAA7BlE,OAAOiE,SAASC,UAEhBlE,OAAOiE,SAASC,SAASC,MACvB,2DCVNlK,QAAQC,IAAIJ,GACZsK,IAASC,OACTtJ,EAAAC,EAAAC,cAACqJ,EAAA,EAAD,CAAUxK,MAAOA,GACbiB,EAAAC,EAAAC,cAACsJ,EAAA,EAAD,KACIxJ,EAAAC,EAAAC,cAACuJ,GAAD,QAEKxF,SAASyF,eAAe,SDmH/B,kBAAmBzD,WACrBA,UAAU0D,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,iCEnInBC,EAAAC,QAAA,+tCCAAD,EAAAC,QAAA,u+BCAAD,EAAAC,QAAA","file":"static/js/main.a2e41c49.chunk.js","sourcesContent":["import {CONSTANTS} from '../actions';\r\nexport const logIn = (nickname, flag = false) => {\r\n    return {\r\n        type: CONSTANTS.LOG_IN,\r\n        payload: {\r\n            nickname: nickname,\r\n            isAuthenticated: flag\r\n        },\r\n    };\r\n};\r\n\r\nexport const isAuthenticated = (flag) => {\r\n    return {\r\n        type: CONSTANTS.IS_AUTH,\r\n        payload: flag,\r\n    };\r\n};\r\n\r\nexport const isOnline = (flag) => {\r\n    return {\r\n        type: CONSTANTS.IS_ONLINE,\r\n        payload: flag,\r\n    }\r\n}","export * from './actions';\r\n\r\nexport const CONSTANTS = {\r\n    LOG_IN: \"LOG_IN\",\r\n    IS_AUTH: \"IS_AUTH\",\r\n    IS_ONLINE: \"IS_ONLINE\"\r\n}","import { CONSTANTS } from '../actions';\r\n\r\nconst initialState = {\r\n    nickname: localStorage.length>1?localStorage.getItem('nickname') : '',\r\n    isAuth: localStorage.length>1?true:false,\r\n}\r\n\r\n\r\nconst loginReducer = (state = initialState, action) => {\r\n    let st = {};\r\n    switch(action.type) {\r\n        case CONSTANTS.LOG_IN:\r\n                st = {\r\n                    nickname: action.payload.nickname,\r\n                    isAuth: action.payload.isAuthenticated,\r\n                }\r\n            return st;\r\n        case CONSTANTS.IS_AUTH:\r\n            st = {\r\n                nickname: state.nickname,\r\n                isAuth: action.payload,\r\n\r\n            }\r\n            return st;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default loginReducer;","import { CONSTANTS } from '../actions';\r\n\r\nconst initialState = {\r\n    isOnline: true\r\n}\r\n\r\nconst chatReducer = (state = initialState, action) => {\r\n    let st = {};\r\n    switch(action.type) {\r\n        case CONSTANTS.IS_ONLINE:\r\n                st = {\r\n                    isOnline: action.payload\r\n                }\r\n            return st;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default chatReducer;","import { combineReducers } from 'redux';\r\nimport loginReducer from './loginReducer';\r\nimport chatReducer from './chatReducer';\r\n\r\nexport default combineReducers({\r\n    login: loginReducer,\r\n    chat: chatReducer\r\n});","import {createStore} from 'redux';\r\nimport rootReducer from '../reducers';\r\n\r\nconst store = createStore(rootReducer);\r\nconsole.log(store);\r\nexport default store;","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { Form, Button} from 'react-bootstrap';\r\nimport {logIn, isAuthenticated} from '../../actions';\r\n\r\nclass Login extends React.Component {\r\n  HandleInput = (e) => {\r\n    const { dispatch } = this.props;\r\n    dispatch(logIn(e.target.value));\r\n  }\r\n  Chat = () => {\r\n    const { dispatch } = this.props;\r\n    dispatch(isAuthenticated(true));\r\n    localStorage.setItem('nickname', this.props.login.nickname);\r\n  }\r\n  AuthorisedBefore = () => {\r\n    const { dispatch } = this.props;\r\n    dispatch(logIn(localStorage.getItem('nickname'), true));\r\n  }\r\n  render() {\r\n    if(localStorage.getItem('nickname')){\r\n      this.AuthorisedBefore();\r\n      return <Redirect to={{ pathname: \"/chat/\"}}/>\r\n    }else if(this.props.login.isAuth){\r\n          return <Redirect to={{ pathname: \"/chat/\"}}/>\r\n    } else {\r\n      return ( \r\n        <Form className='form'>\r\n            <Form.Group>\r\n                <Form.Label>Enter your nickname</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter nickname\" className='input' onChange = { this.HandleInput }/>\r\n                <Button variant=\"primary\" className='logButton' onClick={this.Chat}>Let`s chat</Button>\r\n            </Form.Group>\r\n        </Form>\r\n    );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => (\r\n    {\r\n      login: state.login,\r\n    }\r\n\r\n)\r\n\r\nexport default connect(mapStateToProps)(Login);","import Login from './login';\r\n\r\nimport './login.scss';\r\n\r\nexport default Login;","import React from \"react\";\r\nimport { Card} from 'react-bootstrap';\r\n\r\nconst Message = ({info, my}) => {\r\n    const convertDate = ()=>{\r\n        const date = new Date(info.time);\r\n        let dd = date.getDate();\r\n        if (dd < 10) dd = '0' + dd;\r\n\r\n        let mm = date.getMonth() + 1;\r\n        if (mm < 10) mm = '0' + mm;\r\n\r\n        let yy = date.getFullYear() % 100;\r\n        if (yy < 10) yy = '0' + yy;\r\n\r\n        let hh = date.getHours() % 100;\r\n        if (hh < 10) hh = '0' + hh;\r\n\r\n        let mimi = date.getMinutes() % 100;\r\n        if (mimi < 10) mimi = '0' + mimi;\r\n\r\n\r\n  return dd + '.' + mm + '.' + yy + ' ' + hh + '.' + mimi;\r\n    }\r\n    if(my){\r\n        return (\r\n            <Card id='message' className=\"my\" style={{ backgroundColor: \"#9999ff\" }}>\r\n            <Card.Body>\r\n                <div className='title'>\r\n                    <Card.Title>\r\n                        {info.from}\r\n                    </Card.Title>\r\n                    <Card.Text>{convertDate(info.time)}</Card.Text>\r\n                </div>\r\n                <Card.Text className='messageText'>{info.message}</Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n        )\r\n    } \r\n    return (\r\n        <Card id='message' style={{ backgroundColor: \"#f2f2f2\" }}>\r\n            <Card.Body>\r\n                <div className='title'>\r\n                    <Card.Title>\r\n                        {info.from}\r\n                    </Card.Title>\r\n                    <Card.Text>{convertDate(info.time)}</Card.Text>\r\n                </div>\r\n                <Card.Text className='messageText'>{info.message}</Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Message;","import Message from './message';\r\nimport './message.scss';\r\n\r\nexport default Message;","import React from \"react\";\nimport { Container, Row, Col, Button, OverlayTrigger,Popover, Image, Spinner, Form} from 'react-bootstrap';\nimport Message from '../Message';\nimport { connect } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\nimport {uniqueId} from 'lodash';\nimport {isAuthenticated, isOnline} from '../../actions';\nimport { Picker } from 'emoji-mart'\nimport smile from '../../assets/smile.png'\nimport send from '../../assets/send.png';\nimport arrow from '../../assets/arrow.png';\nimport ReconnectingWebSocket from 'reconnecting-websocket';\nimport MIDISounds from 'midi-sounds-react';\n\n\nclass Chat extends React.Component{\n  constructor(props){\n    super(props);\n    this.state={\n      messages:[],\n      text: ''\n    }\n    this.active=true;\n    this.inputValue='';\n    this.messagesEnd='';\n    this.flag=true;\n    this.granted=false;\n    const options = {\n      connectionTimeout: 5000,\n  };\n    this.socket = new ReconnectingWebSocket(\"wss://wssproxy.herokuapp.com/\",[], options);\n    this.socket.binaryType = \"arraybuffer\";\n    this.addEventSocket();\n    this.NotificationRequested();\n  }\n\n changeActive(){\n   this.active=!this.active;\n }\n\n socketOpen(){\n    const { dispatch } = this.props;\n    dispatch(isOnline(true));\n    if(document.cookie.length>1){\n      this.sendMessage();\n    }\n    this.setState({\n      messages: []\n  });\n  document.cookie = \"message= ; expires = Thu, 01 Jan 1970 00:00:00 GMT\"\n }\n\n socketMessage(event){\n  this.setState((prevState)=>{\n    return {\n      messages: prevState.messages.concat(JSON.parse(event.data).reverse()),\n    }\n  });\n  if(this.active){\n    this.refs.midiSounds.playChordNow(47, [60], 0.7);\n  } else if(this.granted && !this.flag){\n    this.sendNotification(JSON.parse(event.data));\n  } else if(this.flag){\n    this.scrollToBottom();\n  }\n    this.flag=false;\n }\n\n NotificationRequested(){\n  if (!(\"Notification\" in window)) {\n    alert(\"This browser does not support desktop notification\");\n  }\n  else{\n    Notification.requestPermission(permission=> {\n      if (permission === \"granted\") {\n        this.granted=true;\n      }\n    });\n  }\n }\n\n addEventSocket(){\n\n  window.addEventListener('focus',()=>this.changeActive);\n  window.addEventListener('blur',()=>this.changeActive);\n\n  window.addEventListener('online',()=>this.updateStatus());\n  window.addEventListener('offline',()=>this.updateStatus());\n\n  this.socket.addEventListener('open', ()=>this.socketOpen());\n\n  this.socket.addEventListener('message', (event)=>this.socketMessage(event));\n\n  this.socket.addEventListener('close', ()=>this.socketClose());\n}\n\n socketClose(){\n  const { dispatch } = this.props;\n  dispatch(isOnline(false));\n  window.removeEventListener('focus',this.changeActive);\n  window.removeEventListener('blur',this.changeActive);\n  window.removeEventListener('online',this.updateStatus);\n  window.removeEventListener('offline',this.updateStatus);\n\n  this.socket.removeEventListener('open',this.socketOpen);\n  this.socket.removeEventListener('message',this.socketMessage);\n  this.socket.removeEventListener('close',this.socketClose);\n }\n\n  sendNotification(data){\n    data.map((mess) => {\n      let body = mess.message;\n      return new Notification(mess.from, {body})\n    });\n  }\n\n  updateStatus(){\n    const { dispatch } = this.props;\n    if(navigator.onLine){\n      dispatch(isOnline(true));\n    } else {\n      this.socket.close();\n      this.socket.reconnect();\n    }\n  }\n  \n  closeSocket(){\n    const { dispatch } = this.props;\n    dispatch(isAuthenticated(false));\n    this.socket.close();\n    localStorage.clear();\n  }\n\n  saveMessage(event){\n    this.setState({\n       text: event.target.value\n    });\n  }\n\n  addEmoji(e){\n    let emoji = e.native;\n    this.setState((prevState, props)=>{\n      return {\n        text: prevState.text + emoji\n      }\n    });\n  }\n\n\n  sendMessage(){\n    this.socket.send(JSON.stringify({\n      from: this.props.login.nickname,\n      message: this.state.text!==''?this.state.text:document.cookie.replace(/(?:(?:^|.*;\\s*)message\\s\\=\\*\\s*([^;]*).*$)|^.*$/, \"$1\")\n    }));\n    if(!this.props.chat.isOnline){\n      document.cookie = `message=${this.state.text}`;\n      this.setState((prevState)=>{\n        return {\n          messages: prevState.messages.concat([{\n            from: this.props.login.nickname,\n            message: this.state.text,\n            time: Date.now()\n          }]),\n        }\n      });\n    }\n    this.setState({text:''});\n  }\n\n  scrollToBottom = () => {\n      this.messagesEnd.scrollIntoView();\n  }\n\n  returnMessages(){\n    const popover = (\n      <Popover id=\"popover-basic\">\n        <Picker onSelect={(e)=>this.addEmoji(e)} />\n      </Popover>\n    );\n    return (\n      <Container className='cont'>\n      <Row className='chatContainer'>\n        <Col className='pl-0'>\n          <ul>\n            {\n              this.state.messages.length>0 ? this.state.messages.map( message => message.from!==this.props.login.nickname ? <li key={uniqueId()}><Message info={message}/></li> : <li key={uniqueId()} className='myMess'><Message info={message} my={true}/></li>) : <li><Spinner animation=\"border\" variant=\"secondary\" /></li>\n            }\n          </ul>\n          <div onClick={this.scrollToBottom} className='arrow'><Image src={arrow}/></div>\n          <div ref={el=>this.messagesEnd=el}></div>\n        </Col>\n      </Row>\n      <Row id='typeMessage'>\n      <Form onSubmit={() => this.sendMessage()}>\n      <OverlayTrigger trigger=\"click\" placement=\"top\" overlay={popover}>\n        <Image src={smile} className='emodji'/>\n      </OverlayTrigger>\n        <textarea  value={this.state.text} onChange={(event)=>this.saveMessage(event)}/>\n        <Image src={send} className='send' type=\"submit\" onClick={() => this.sendMessage()}/>\n        </Form>\n        <MIDISounds ref=\"midiSounds\" appElementName=\"root\" instruments={[47]} className=\"sound\"/>\n      </Row>\n    </Container>\n    );\n  }\n  \n\n  render(){\n        if(this.props.chat.isOnline){\n          if(this.props.login.isAuth){\n            return (\n              <div>\n                <div className='titleChat'>\n                  <Button onClick = {() => this.closeSocket()} className='buttonExit' variant='primary' style={{ backgroundColor: \"#9999ff\" }}>LOG OUT</Button>\n                  <h5 className='hello'>Hello {this.props.login.nickname}</h5>\n                </div>\n                {this.returnMessages()}\n              </div>\n            );\n          } else {\n            return <Redirect to={{ pathname: \"/login\"}}/>\n          }\n        } else {\n          return (\n            <div>\n                <div className='titleChat'>\n                  <Button onClick = {() => this.closeSocket()} className='buttonExit' variant='primary' style={{ backgroundColor: \"#9999ff\" }}>LOG OUT</Button>\n                  <p>Trying to connect</p>\n                </div>\n                {this.returnMessages()}\n            </div>\n          )\n        }\n  }\n}\n\nconst mapStateToProps = state => (\n  {\n    login: state.login,\n    chat: state.chat\n  }\n\n)\n\nexport default connect(mapStateToProps)(Chat);\n","import Chat from './chat';\r\nimport './chat.scss';\r\nimport 'emoji-mart/css/emoji-mart.css'\r\n\r\nexport default Chat;","import React from 'react';\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport Chat from \"./components/Chat\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n  }\nrender() {\n    return (\n      <Switch>\n        <Redirect exact from=\"/\" to=\"/login/\" />\n        <Route path=\"/login/\" component={Login} />\n        <Route path=\"/chat/\" component={Chat} />\n      </Switch>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport store from './store';\nimport App from './App';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport * as serviceWorker from './serviceWorker';\nconsole.log(store);\nReactDOM.render(\n<Provider store={store}>\n    <Router>\n        <App />\n    </Router>\n</Provider>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfjCA0VFTHimNclAAACVUlEQVQ4y42UTUhUYRSGn3Pv1TJCHdFZqKRXkxHsh8jJNsEUpkQtglZZZItqIaQEbaJttGmRQSulwBJKiAJpYxNMBUGoiQpFEs5NEY0RnIEWjTPNPS3mOv72867u4T7v4fCd9/uENVL5tsdtlRAByoBFmSLCUPUn0VVGVj+doHbRjA8TQQBFyRAnzL2a0Q0GNaKXpYsa8te2yP4ixQy9S92NvwBMgIipt6UDm7xNOAgWxTQUlJ2O9CkYAFVXaaMya95SJuW07erwRnKC+pjdf8GzyvBVz9d+NFS0k+p/4mBiyzUVcfZqGL83e4xh8jiA34NiMq5pgl6txGi23FbxebhLDy/F1SucwQfEGaQXg1PcwAAEHy2WhHLjpOV93mhlxmnSY1mDTNjDc2a6WNNs88YKWQRyR2lqU2o6itZTBECR1kfrUtCUaykELMpyBouz1CEcpgSAEk5QDDRi5Qx+iSYo3GJdW0tJGMRQr5gnRnoTlCLG/AqjiwZTXrHMAE9Y2GT4rk8ZYDlrkC+GvCHjuSd5QJj4OjzOa3kok7jetiMGQ8RRoEAuUEo/L3BIApDE4bk+olQvsgNQlgib3YuJ/dRjAdXkM85bWSDJErOMMaDPZCeXOIkAyzJo9wpEG+n3wqe80z5GjB+6HSTpFkqQdo4gXvjO1Y4JQLST61Rko85PJhhhHijnEPso8GIzJ3fs+96Ni5hVt2ij4o+ZzbBAv31T3P+9orP0zNw9mskuO6fpg3TJcUo2PAIJItpd+2GFWtdPxWmghRAB/ECMKSK8sj+vfWZ+A5Cv18NDUkQqAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA4LTEzVDE5OjIxOjQ5KzAyOjAwZTLF+AAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wOC0xM1QxOToyMTo0OSswMjowMBRvfUQAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfjCA4ANgFysF6dAAABmklEQVRIx82VS0sCURiGn+/MOLaIahte0sAwWrTqb/YfWgVFy0ioiJAoSZFMbOyGRURXixJLyTktJswopRkX9Z7FWXzne871ew/8uezZ8kzZ8p8v9j23FHRKUsGruOMHoIEa13KktySlSom6HwBAk2tOyLNJJnnlBwCgqXLMPrt6Z6AUf/MOcFXnnILs6pyRSzz5AQC0uCNPhrza43zC8Q5w1aAoab2tbXVi1ePaO8BVhbRsUOJUPSTe/AAAedYZVsjKmdxO1L8CDrCwCGIRJIDRg9LCZlXWdJFqqzb1MbGUpwk5YQkRJsQoQwQwMTE/evUNc8MmS+zwaNQSLZDOWNYYHFFhHXGiEiFKlAjDKAxUu7njG3KoF9Sic6Ga0mPJFISRwLjEGJOYE5MYEYbaa9I8sqzmFH3JeelzCzT6P0SP15hiFbvzGk2SXh4SFW6Sr50R8xfZFdJsSJen3BvQoMg6WV2WrsXUDdAuZ3JcTvYo558AngzlK6DD0oK/tLRPgE9TdQF92LpJ1f1Y8PmxmMzJPHvJpvfU/6J3wsrdL0YCI74AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDgtMTNUMjI6NTQ6MDErMDI6MDCGLcHaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA4LTEzVDIyOjU0OjAxKzAyOjAw93B5ZgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCA8RICCHGVU2AAAAZklEQVQ4y+3QMRKAIAxE0c1xOCGlofOC4HG0yIghooGeTcXMfw3Amj8qEftEzgSME+KQCBglxCEBJA+fSF6BR+5cgT/y5A34Ijo3oEfa/AUssXl3JZZT7tj8z1ZkOAeAzJkn8jWzC5B+LU7dNIsbAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA4LTE1VDE1OjMyOjMyKzAyOjAwjmIsxwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wOC0xNVQxNTozMjozMiswMjowMP8/lHsAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\""],"sourceRoot":""}